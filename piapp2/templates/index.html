<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="../static/img/logo.png" type="image/x-icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Room Data</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css" >
    <!-- Main Style -->
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
    
  </head>
  <body>

    <!-- Header Area wrapper Starts -->
    <header id="header-wrap">
      <!-- Navbar Start -->
      <nav class="navbar navbar-expand-lg fixed-top scrolling-navbar indigo">
        <div class="container">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <a href="#" class="navbar-brand">Room Data</a>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <a class="nav-link" href="#hero-area">
                  Home
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#indexes">
                  Indexes
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/historical">
                  Historical Data
                </a>
              </li>
          </div>
        </div>
      </nav>
      <!-- Navbar End -->

      <!-- Hero Area Start -->
      <div id="hero-area" class="hero-area-bg">
        <div class="overlay" style="height: 20px;"></div>
        <div class="container">
          <div class="row">
            <div class="col-md-12 col-sm-12">
              <div class="contents text-center">
                <h2 id="head-title" class="wow fadeInUp">All Cosiness Index Data You Need</h2>
                
                <div class="header-button wow fadeInUp" data-wow-delay="0.3s">
                  <button onClick="window.location.reload();" class="btn btn-common" id="btn-refresh">Refresh Now</button>
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
      <!-- Hero Area End -->

    </header>
    <!-- Header Area wrapper End -->

    <!-- Indexes Section Start -->
    <section id="indexes" class="section-padding">
      <h3> COSINESS INDEX </h3>
      <p id="last-reading"> Last Sensors Reading: {{ time }}</p>
      <div class="slider">
        <div id="WholeBar">
          <div id="ProgressBar"></div>
        </div>
        <div class="circle">
          <div class="circle-number">
            <div class="slider-value" id="slider-value">{{ coziIndex }}</div>
          </div>
        </div>
      </div>
      <div class="index-message" id="index-message">
        Based on all the index data we collected from your room, the analysis shows that the cosiness condition of your room is 
      </div>
      <div class="instruct-message">
        All the detailed data is shown in the following. 
      </div>
      
      <div class="discover-index"><a id="myImg">Discover how we calculate the cosiness index.</a></div>

      <!-- The Modal -->
      <div id="myModal" class="modal">
        <div id="close" class="close">&times;</div>
        <img class="modal-content" id="img01">
        <div id="caption"></div>
      </div>
      
      <div id="general-indexes">
        <div class="container">
          <div class="row">
            <div class="col-lg-4 col-md-6 col-sm-12 slider_general">
              <h4 class="index-title"> Humidex </h4>
              <div class="slider-white">
                <div class="entire-bar">
                  <div class="progress-bar" id="humidex-bar"></div>
                </div>
                <div class="circle-white" id="humidex-circle">
                  <div class="circle-black">
                    <div class="slider-white-value" id="humidex-value">{{ humidex }}</div>
                  </div>
                </div>
              </div>
              <div class="white-message" id="humidex-message">
                This index is based on the data of temperature and humidity. This index shows that the humidex of your room is 
              </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-12 slider_general">
              <h4 class="index-title"> Air Quality </h4>
              <div class="slider-white">
                <div class="entire-bar">
                  <div class="progress-bar" id="air-bar"></div>
                </div>
                <div class="circle-white" id="air-circle">
                  <div class="circle-black">
                    <div class="slider-white-value" id="air-value">{{ aqIndex }}</div>
                  </div>
                </div>
              </div>
              <div class="white-message" id="air-message">
                This index is based on the data of CO2 and CO. This index shows that the air quality of your room is 
              </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-12 slider_general">
              <h4 class="index-title"> External Environment </h4>
              <div class="slider-white">
                <div class="entire-bar">
                  <div class="progress-bar" id="environment-bar"></div>
                </div>
                <div class="circle-white" id="environment-circle">
                  <div class="circle-black">
                    <div class="slider-white-value" id="environment-value">{{ eeIndex }}</div>
                  </div>
                </div>
              </div>
              <div class="white-message" id="environment-message">
                This index is based on the data of light and sound. This index shows that the external environment of your room is 
              </div>
            </div>
          </div>
        </div>
      </div>  
      
      <div class="container">
        <h3> Particular indexes </h3>
        <div class="row">
          <div class="col-lg-4 col-md-6 col-sm-12">
            <div id="g1"></div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-12">
            <div id="g2"></div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-12">
            <div id="g3"></div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-12">
            <div id="g4"></div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-12">
            <div id="g5"></div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-12">
            <div id="g6"></div>
          </div>
        </div>
      </div>
    </section>
    <!-- Indexes Section End -->
    
    <hr>
     <section id="history">
      <h3> HISTORICAL DATA </h3>
      <p>Draw statistical data of room indexes in graphs</p>
      <div class="header-button wow fadeInUp" data-wow-delay="0.3s">
        <a href="/historical" class="btn btn-common" id="btn-refresh">Go to Historical Data page</a>
      </div>
    </section>

    <section id="copyright">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <p>Copyright Â© 2020 Developed by Ngo Le Huy Hien | Fatema Mirza | Mohammad Newaj Jamil</p>
          </div>
        </div>
      </div>
    </section>   
    
    <!-- jQuery-->
    <script src="../static/js/raphael-2.1.4.min.js"></script>
    <script src="../static/js/justgage.js"></script>
    
    <script>
      var g1, g2, g3, g4, g5, g6;
      document.addEventListener("DOMContentLoaded", function(event) {
        g1 = new JustGage({
            id: "g1",
            value: {{ tempe }},
            valueFontColor: "#f08821",
            min: 0,
            max: 30,
            title: "TEMPERATURE",
            pointer: true,
            counter: true,
            label: "Celcius Degree"
        });

        g2 = new JustGage({
            id: "g2",
            value: {{ light }},
            valueFontColor: "#71b745",
            min: 0,
            max: 750,
            title: "LIGHT",
            pointer: true,
            counter: true,
            label: "lux"
        });

        g3 = new JustGage({
            id: "g3",
            value: {{ sound }},
            valueFontColor: "#00afef",
            min: 0,
            max: 70,
            title: "SOUND",
            pointer: true,
            counter: true,
            label: "dB"
        });

        g4 = new JustGage({
            id: "g4",
            value: {{ co2value }},
            valueFontColor: "#6c3a8f",
            min: 0,
            max: 1000,
            title: "CO2 VALUE",
            pointer: true,
            counter: true,
            label: "ppm"
        });

        g5 = new JustGage({
            id: "g5",
            value: {{ covalue }},
            valueFontColor: "#283da7",
            min: 0,
            max: 35,
            title: "CO VALUE",
            pointer: true,
            counter: true,
            label: "ppm"
        });

        g6 = new JustGage({
            id: "g6",
            value: {{ humvalue }},
            valueFontColor: "#b10d28",
            min: 0,
            max: 100,
            title: "HUMIDITY",
            pointer: true,
            counter: true,
            label: "Percent (%)"
        });
      });
      // Get the modal
      var modal = document.getElementById("myModal");

      // Get the image and insert it inside the modal - use its "alt" text as a caption
      var img = document.getElementById("myImg");
      var modalImg = document.getElementById("img01");
      var captionText = document.getElementById("caption");
      img.onclick = function(){
        modal.style.display = "block";
        modalImg.src = "../static/img/framework.PNG";
        captionText.innerHTML = "This is how we defined the cosiness index.";
      }

      // Get the <span> element that closes the modal
      var span = document.getElementById("close");

      // When the user clicks on <span> (x), close the modal
      span.onclick = function() { 
        modal.style.display = "none";
      }
    </script>
    <script src="../static/js/jquery-min.js"></script>
    <script src="../static/js/main.js"></script>
  </body>
</html>
